<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truth Charting - Invoice Generator</title>
    <meta name="description" content="Professional invoice generator for Truth Charting">
    <meta name="theme-color" content="#1a1a1a">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiVHJ1dGggQ2hhcnRpbmcgSW52b2ljZSBHZW5lcmF0b3IiLCJzaG9ydF9uYW1lIjoiSW52b2ljZSBHZW4iLCJzdGFydF91cmwiOiIuLyIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiMxYTFhMWEiLCJ0aGVtZV9jb2xvciI6IiMxYTFhMWEiLCJpY29ucyI6W3sic3JjIjoiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTWpRaUlHaGxhV2RvZEQwaU1qUWlJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JajROQ2lBZ1BISmxZM1FnZUQwaU1DSWdlVDBpTUNJZ2QybGtkR2c5SWpJMElpQm9aV2xuYUhROUlqSTBJaUJtYVd4c1BTSWpNVEU0TkRNMElpQXZQZzBLSUNBOGRHVjRkQ0I0UFNJeE1pSWdlVDBpTVRJaUlHWnBiR3c5SW1ac2JHbDBaU0lnWm05dWRDMW1ZVzFwYkhrOUlsQnNZWGx3Y21sdUlFUnBjM0JzWVhraUlHWnZiblF0YzJsNlpUMGlNVEJzZUNJZ2RHVjRkQzFoYm1Ob2IzSTlJbTFwWkdSc1pTSStTVzUyYjJsalpTd0paV0c4ZEhVOGRHVjRkRDROQ2p3dmMzWm5QZzBLIiwic2l6ZXMiOiIyNHgyNCIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn0seyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNVEk0SWlCb1pXbG5hSFE5SWpFeU9DSWdkbWxsZDBKdmVEMGlNQ0F3SURBZ01USTRJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lQZzBLSUNBOGNtVmpkQ0I0UFNJd0lpQjVQU0l3SWlCM2FXUjBhRDBpTVRJNElpQm9aV2xuYUhROUlqRXlPQ0lnWm1sc2JEMGlJekV4T0RSa05EUWlJQzgrRFFvZ0lEeDBaWGgwSUhnOUlqWTBJaUI1UFNJMk5DSWdabWxzYkQwaVpteHNhWFJsVXpONklpQm1iMjUwTFdaaGJXbHNlVDBpUEhOMGNtOXVaejVCY21saGJDQkNiR0ZqYXp3dmMzUnliMjVuUGlBaVFYSnBZV3dnUW14aFkyc3NJRzF2Ym05emNHRmpaU0lnWm05dWRDMXphWHBsUFNJeU5IQjRJaUIwWlhoMExXRnVZMmh2Y2owaWJXbGtaR3hsSWo1VGNuVjBhQ0JEYUdGeWRHbHVaend2ZEdWNGRENE5DandnSURpOGMzWm5QZzBLIiwic2l6ZXMiOiIxMjh4MTI4IiwidHlwZSI6ImltYWdlL3N2Zyt4bWwifV19">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEyOCIgaGVpZ2h0PSIxMjgiIGZpbGw9IiMxMTg0ZDQiIC8+CiAgPHRleHQgeD0iNjQiIHk9IjY0IiBmaWxsPSJmbGl0ZVMzOiIgZm9udC1mYW1pbHk9IkFyaWFsIEJsYWNrLCBtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMjRweCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VHJ1dGggQ2hhcnRpbmc8L3RleHQ+CiAgPC9zdmc+">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial Black', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #ffffff;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px 0;
        }

        .logo {
            display: none;
        }

        .brand-title {
            font-size: 3rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 4px;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #00d4ff, #ffffff, #00d4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }

        .app-title {
            font-size: 1.8rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ffffff, #cccccc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.1rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .form-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
            color: #ffffff;
            border-bottom: 2px solid #444;
            padding-bottom: 10px;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            flex: 1;
        }

        .form-group.full-width {
            flex: 100%;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #cccccc;
            font-size: 0.9rem;
        }

        input, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
        }

        input::placeholder, textarea::placeholder {
            color: #888;
        }

        .services-section {
            margin-bottom: 30px;
        }

        .service-item {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            align-items: end;
        }

        .service-description {
            flex: 2;
        }

        .service-quantity, .service-rate {
            flex: 1;
        }

        .service-total {
            flex: 1;
            display: flex;
            align-items: center;
            font-weight: 700;
            font-size: 1.1rem;
            color: #ffffff;
            min-height: 47px;
        }

        .remove-service {
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .remove-service:hover {
            background: #ff3838;
            transform: translateY(-2px);
        }

        .add-service {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 30px;
            cursor: pointer;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            font-size: 1rem;
            margin-top: 15px;
        }

        .add-service:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 212, 255, 0.3);
        }

        .total-section {
            text-align: right;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #444;
        }

        .total-amount {
            font-size: 2rem;
            font-weight: 900;
            color: #00d4ff;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .generate-btn {
            width: 100%;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 1.5rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }

        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.4);
        }

        .generate-btn:active {
            transform: translateY(-1px);
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .service-item {
                flex-direction: column;
                gap: 10px;
            }
            
            .service-total {
                min-height: auto;
            }
            
            .app-title {
                font-size: 2rem;
            }
            
            .form-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="brand-title">TRUTH CHARTING</h1>
            <h2 class="app-title">Invoice Generator</h2>
            <p class="subtitle">Professional Invoice Creation</p>
        </div>

        <div class="form-container">
            <div class="form-section">
                <h3 class="section-title">Business Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="businessName">Business Name</label>
                        <input type="text" id="businessName" placeholder="Truth Charting" value="John Donahue">
                    </div>
                    <div class="form-group">
                        <label for="businessEmail">Email</label>
                        <input type="email" id="businessEmail" placeholder="contact@truthcharting.com" value="john@truthcharting.com">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="businessPhone">Phone</label>
                        <input type="tel" id="businessPhone" placeholder="(555) 123-4567" value="352-223-2895">
                    </div>
                    <div class="form-group">
                        <label for="businessWebsite">Website</label>
                        <input type="url" id="businessWebsite" placeholder="www.truthcharting.com" value="www.truthcharting.com">
                    </div>
                </div>
                <div class="form-group full-width">
                    <label for="businessAddress">Business Address</label>
                    <textarea id="businessAddress" rows="3" placeholder="123 Business Ave&#10;City, State 12345&#10;Country">13324 Citrus Grove Road
Clermont, FL, 34715</textarea>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">Client Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="clientName">Client Name</label>
                        <input type="text" id="clientName" placeholder="Client Company Name" value="Hallow Inc.">
                    </div>
                    <div class="form-group">
                        <label for="clientEmail">Client Email</label>
                        <input type="email" id="clientEmail" placeholder="client@company.com" value="ap@hallow.app">
                    </div>
                </div>
                <div class="form-group full-width">
                    <label for="clientAddress">Client Address</label>
                    <textarea id="clientAddress" rows="3" placeholder="Client Company&#10;456 Client St&#10;City, State 12345"></textarea>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">Invoice Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="invoiceNumber">Invoice Number</label>
                        <input type="text" id="invoiceNumber" placeholder="INV-001">
                    </div>
                    <div class="form-group">
                        <label for="invoiceDate">Invoice Date</label>
                        <input type="date" id="invoiceDate">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="dueDate">Due Date</label>
                        <input type="date" id="dueDate">
                    </div>
                    <div class="form-group">
                        <label for="paymentTerms">Payment Terms</label>
                        <input type="text" id="paymentTerms" placeholder="Net 30" value="Net 30">
                    </div>
                </div>
            </div>

            <div class="form-section services-section">
                <h3 class="section-title">Services/Products</h3>
                <div id="servicesContainer">
                    <div class="service-item">
                        <div class="form-group service-description">
                            <label>Description</label>
                            <input type="text" class="service-desc" placeholder="Service or product description" value="">
                        </div>
                        <div class="form-group service-quantity">
                            <label>Quantity</label>
                            <input type="number" class="service-qty" placeholder="1" min="1" value="1">
                        </div>
                        <div class="form-group service-rate">
                            <label>Rate ($)</label>
                            <input type="number" class="service-rate-input" placeholder="0.00" min="0" step="0.01" value="7000">
                        </div>
                        <div class="service-total">
                            $0.00
                        </div>
                    </div>
                </div>
                <button type="button" class="add-service" onclick="addService()">+ Add Service</button>
            </div>

            <div class="total-section">
                <div class="total-amount">
                    Total: $<span id="totalAmount">0.00</span>
                </div>
            </div>

            <button class="generate-btn" onclick="generatePDF()">Generate Invoice</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
    <script>
        // Set current date as default
        document.getElementById('invoiceDate').valueAsDate = new Date();
        
        // Set due date to 30 days from now
        const dueDate = new Date();
        dueDate.setDate(dueDate.getDate() + 30);
        document.getElementById('dueDate').valueAsDate = dueDate;
        
        // Generate invoice number
        document.getElementById('invoiceNumber').value = 'HA0001Q';
        
        // Set default service description with current month
        const currentMonth = new Date().toLocaleString('default', { month: 'long' });
        document.querySelector('.service-desc').value = `${currentMonth} Social Media Marketing`;
        
        // Calculate initial total
        setTimeout(() => {
            calculateTotal();
        }, 100);

        function addService() {
            const container = document.getElementById('servicesContainer');
            const serviceItem = document.createElement('div');
            serviceItem.className = 'service-item';
            serviceItem.innerHTML = `
                <div class="form-group service-description">
                    <label>Description</label>
                    <input type="text" class="service-desc" placeholder="Service or product description">
                </div>
                <div class="form-group service-quantity">
                    <label>Quantity</label>
                    <input type="number" class="service-qty" placeholder="1" min="1" value="1">
                </div>
                <div class="form-group service-rate">
                    <label>Rate ($)</label>
                    <input type="number" class="service-rate-input" placeholder="0.00" min="0" step="0.01">
                </div>
                <div class="service-total">
                    $0.00
                </div>
                <button type="button" class="remove-service" onclick="removeService(this)">Remove</button>
            `;
            container.appendChild(serviceItem);
            attachServiceListeners(serviceItem);
        }

        function removeService(button) {
            button.parentElement.remove();
            calculateTotal();
        }

        function attachServiceListeners(serviceItem) {
            const qtyInput = serviceItem.querySelector('.service-qty');
            const rateInput = serviceItem.querySelector('.service-rate-input');
            const totalDiv = serviceItem.querySelector('.service-total');

            function updateServiceTotal() {
                const qty = parseFloat(qtyInput.value) || 0;
                const rate = parseFloat(rateInput.value) || 0;
                const total = qty * rate;
                totalDiv.textContent = '$' + total.toFixed(2);
                calculateTotal();
            }

            qtyInput.addEventListener('input', updateServiceTotal);
            rateInput.addEventListener('input', updateServiceTotal);
        }

        function calculateTotal() {
            const serviceTotals = document.querySelectorAll('.service-total');
            let total = 0;
            serviceTotals.forEach(serviceTotal => {
                const amount = parseFloat(serviceTotal.textContent.replace('$', '')) || 0;
                total += amount;
            });
            document.getElementById('totalAmount').textContent = total.toFixed(2);
        }

        // Attach listeners to initial service item
        document.addEventListener('DOMContentLoaded', function() {
            const initialServiceItem = document.querySelector('.service-item');
            attachServiceListeners(initialServiceItem);
        });

        function generatePDF() {
            console.log('Generate PDF clicked');
            
            // Check if jsPDF is loaded
            if (typeof window.jspdf === 'undefined') {
                alert('PDF library is still loading. Please wait a moment and try again.');
                return;
            }
            
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
            
            // Get form data
            const businessName = document.getElementById('businessName').value;
            const businessEmail = document.getElementById('businessEmail').value;
            const businessPhone = document.getElementById('businessPhone').value;
            const businessWebsite = document.getElementById('businessWebsite').value;
            const businessAddress = document.getElementById('businessAddress').value;
            
            const clientName = document.getElementById('clientName').value;
            const clientEmail = document.getElementById('clientEmail').value;
            const clientAddress = document.getElementById('clientAddress').value;
            
            const invoiceNumber = document.getElementById('invoiceNumber').value;
            const invoiceDate = document.getElementById('invoiceDate').value;
            const dueDate = document.getElementById('dueDate').value;
            const paymentTerms = document.getElementById('paymentTerms').value;
            
            const totalAmount = document.getElementById('totalAmount').textContent;

            // Set colors and fonts
            doc.setFont('helvetica', 'bold');
            
            // Header with company name
            doc.setFontSize(24);
            doc.setTextColor(0, 0, 0);
            doc.setFont('helvetica', 'bold');
            doc.text('TRUTH CHARTING', 20, 30);
            
            // Invoice title
            doc.setFontSize(32);
            doc.setTextColor(0, 0, 0);
            doc.text('INVOICE', 20, 50);
            
            // Business info
            doc.setFontSize(10);
            doc.setFont('helvetica', 'normal');
            doc.text(businessName, 20, 65);
            if (businessEmail) doc.text(businessEmail, 20, 72);
            if (businessPhone) doc.text(businessPhone, 20, 79);
            if (businessWebsite) doc.text(businessWebsite, 20, 86);
            if (businessAddress) {
                const addressLines = businessAddress.split('\n');
                addressLines.forEach((line, index) => {
                    doc.text(line, 20, 93 + (index * 7));
                });
            }
            
            // Invoice details box
            doc.setFillColor(240, 240, 240);
            doc.rect(120, 60, 70, 35, 'F');
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(9);
            doc.text('Invoice #:', 125, 70);
            doc.text('Date:', 125, 77);
            doc.text('Due Date:', 125, 84);
            doc.text('Terms:', 125, 91);
            
            doc.setFont('helvetica', 'normal');
            doc.text(invoiceNumber, 145, 70);
            doc.text(invoiceDate, 145, 77);
            doc.text(dueDate, 145, 84);
            doc.text(paymentTerms, 145, 91);
            
            // Bill to section
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(12);
            doc.text('BILL TO:', 20, 120);
            
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(10);
            doc.text(clientName, 20, 130);
            if (clientEmail) doc.text(clientEmail, 20, 137);
            if (clientAddress) {
                const clientAddressLines = clientAddress.split('\n');
                clientAddressLines.forEach((line, index) => {
                    doc.text(line, 20, 144 + (index * 7));
                });
            }
            
            // Services table
            let yPosition = 170;
            
            // Table header
            doc.setFillColor(50, 50, 50);
            doc.rect(20, yPosition, 170, 10, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(9);
            doc.text('DESCRIPTION', 25, yPosition + 7);
            doc.text('QTY', 120, yPosition + 7);
            doc.text('RATE', 140, yPosition + 7);
            doc.text('TOTAL', 165, yPosition + 7);
            
            yPosition += 10;
            doc.setTextColor(0, 0, 0);
            doc.setFont('helvetica', 'normal');
            
            // Services data
            const serviceItems = document.querySelectorAll('.service-item');
            serviceItems.forEach(item => {
                const desc = item.querySelector('.service-desc').value;
                const qty = item.querySelector('.service-qty').value;
                const rate = item.querySelector('.service-rate-input').value;
                const total = item.querySelector('.service-total').textContent;
                
                if (desc) {
                    yPosition += 8;
                    doc.text(desc, 25, yPosition);
                    doc.text(qty, 120, yPosition);
                    doc.text('$' + parseFloat(rate).toFixed(2), 140, yPosition);
                    doc.text(total, 165, yPosition);
                }
            });
            
            // Total section
            yPosition += 20;
            doc.setFillColor(0, 212, 255);
            doc.rect(130, yPosition, 60, 15, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(14);
            doc.text('TOTAL: $' + totalAmount, 135, yPosition + 10);
            
            // Footer
            doc.setTextColor(100, 100, 100);
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(8);
            doc.text('Thank you for your business!', 20, 280);
            
            // Save the PDF
            doc.save(`Invoice-${invoiceNumber}.pdf`);
            
            } catch (error) {
                console.error('Error generating PDF:', error);
                alert('There was an error generating the PDF. Please check the console for details.');
            }
        }

        // Register service worker for PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('data:text/javascript;base64,c2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC53YWl0VW50aWwoc2VsZi5za2lwV2FpdGluZygpKTsKfSk7CgpzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC5yZXNwb25kV2l0aChmZXRjaChldmVudC5yZXF1ZXN0KSk7Cn0pOw==')
                .then(function(registration) {
                    console.log('Service Worker registered successfully:', registration.scope);
                })
                .catch(function(error) {
                    console.log('Service Worker registration failed:', error);
                });
        }

        // Install prompt for PWA
        let deferredPrompt;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Create install button
            const installButton = document.createElement('button');
            installButton.textContent = 'Install App';
            installButton.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(45deg, #00d4ff, #0099cc);
                color: white;
                border: none;
                border-radius: 10px;
                padding: 10px 20px;
                font-weight: 700;
                text-transform: uppercase;
                letter-spacing: 1px;
                cursor: pointer;
                z-index: 1000;
                font-size: 0.9rem;
                box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
                transition: all 0.3s ease;
            `;
            
            installButton.addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        installButton.remove();
                    }
                    deferredPrompt = null;
                }
            });
            
            document.body.appendChild(installButton);
        });

        // Handle app installed
        window.addEventListener('appinstalled', (evt) => {
            console.log('App was installed successfully');
        });
    </script>
</body>
</html>
